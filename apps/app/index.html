<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=240, height=320, user-scalable=no, initial-scale=1.0">
    <title>BumpSnap - Pregnancy Photo Tracker</title>
    <link rel="stylesheet" href="/src/style.css">
</head>
<body>
    <div id="app">
        <!-- Setup Screen -->
        <div id="screen-setup" class="screen active">
            <div class="setup-header">
                <div class="app-icon">‚óè</div>
                <h1>BumpSnap</h1>
                <p class="subtitle">Rabbit r1 camera tracker</p>
            </div>
            <div class="setup-form">
                <div id="setup-step-date" class="setup-step">
                    <label>Set Due Date</label>
                    <div id="setup-date-picker" class="date-picker">
                        <button type="button" class="date-slot active" data-picker="setup" data-part="0">
                            <span class="slot-label">Day</span>
                            <span id="setup-date-day" class="slot-value">01</span>
                        </button>
                        <button type="button" class="date-slot" data-picker="setup" data-part="1">
                            <span class="slot-label">Month</span>
                            <span id="setup-date-month" class="slot-value">Jan</span>
                        </button>
                        <button type="button" class="date-slot" data-picker="setup" data-part="2">
                            <span class="slot-label">Year</span>
                            <span id="setup-date-year" class="slot-value">2026</span>
                        </button>
                    </div>
                    <p class="date-picker-hint">Scroll to change value. PTT confirms Day -> Month -> Year.</p>
                </div>
                <div id="setup-step-week" class="setup-step hidden">
                    <label>Set Current Week</label>
                    <div class="week-picker">
                        <span class="slot-label">Week</span>
                        <span id="setup-week-value" class="week-value">1</span>
                    </div>
                    <p class="date-picker-hint">Scroll to set week (1-42). PTT saves setup.</p>
                </div>
            </div>
        </div>

        <!-- Home Screen -->
        <div id="screen-home" class="screen">
            <div class="home-header">
                <span class="app-title">BumpSnap</span>
                <span class="home-menu" id="btn-settings">‚öô</span>
            </div>
            <div class="home-week-display">
                <div class="week-circle">
                    <span id="home-week-num" class="week-num">1</span>
                    <span class="week-label">WEEK</span>
                </div>
            </div>
            <div class="home-info">
                <p id="home-trimester" class="trimester-label">Week 1</p>
                <p id="home-days-left" class="days-left">Due: --</p>
            </div>
            <div class="home-actions">
                <button id="btn-capture" class="btn-capture">üì∑ Take Photo</button>
                <button id="btn-gallery" class="btn-secondary">üñº Gallery</button>
            </div>
            <div id="reminder-banner" class="reminder-banner hidden">
                <span>üì∏ Week <span id="reminder-week"></span> photo needed!</span>
                <button id="btn-reminder-capture" class="btn-small">Take Now</button>
            </div>
        </div>

        <!-- Camera/Capture Screen -->
        <div id="screen-capture" class="screen">
            <div class="capture-header">
                <button id="btn-capture-back" class="btn-back">‚Äπ</button>
                <span>Week <span id="capture-week">1</span> Photo</span>
                <span></span>
            </div>
            <div class="capture-body">
                <div class="capture-preview" id="capture-preview">
                    <p class="capture-hint">Tap below to take your bump photo</p>
                    <video id="capture-video" class="capture-video hidden" autoplay playsinline muted></video>
                    <img id="capture-img" class="capture-img hidden" />
                </div>
                <input type="file" id="camera-input" accept="image/*" capture="environment" class="hidden-input" />
                <button id="btn-open-camera" class="btn-capture-action" type="button">üì∑ Open Camera</button>
                <button id="btn-take-photo" class="btn-capture-action hidden" type="button">üì∏ Capture Frame</button>
                <p id="capture-error" class="capture-error hidden"></p>
                <div id="capture-controls" class="capture-controls hidden">
                    <input type="text" id="photo-label" class="photo-label-input" placeholder="Add a label (optional)" maxlength="30" />
                    <button id="btn-save-photo" class="btn-primary">‚úì Save Photo</button>
                </div>
            </div>
        </div>

        <!-- Gallery Screen -->
        <div id="screen-gallery" class="screen">
            <div class="gallery-header">
                <button id="btn-gallery-back" class="btn-back">‚Äπ</button>
                <span>Gallery</span>
                <button id="btn-slideshow" class="btn-back">‚ñ∂</button>
            </div>
            <div class="gallery-grid" id="gallery-grid">
                <!-- Photos populated dynamically -->
            </div>
            <div id="gallery-empty" class="gallery-empty">
                <p>No photos yet</p>
                <p class="subtitle">Take your first bump photo!</p>
            </div>
        </div>

        <!-- Photo Detail Screen -->
        <div id="screen-detail" class="screen">
            <div class="detail-header">
                <button id="btn-detail-back" class="btn-back">‚Äπ</button>
                <span id="detail-title">Week 1</span>
                <button id="btn-delete-photo" class="btn-back" style="color:#ff4444;">‚úï</button>
            </div>
            <div class="detail-body">
                <img id="detail-img" class="detail-img" />
                <div class="detail-info">
                    <p id="detail-label" class="detail-label"></p>
                    <p id="detail-date" class="detail-date"></p>
                    <p id="detail-week-info" class="detail-week-info"></p>
                </div>
            </div>
        </div>

        <!-- Slideshow Screen -->
        <div id="screen-slideshow" class="screen">
            <div class="slideshow-header">
                <button id="btn-slideshow-back" class="btn-back">‚Äπ</button>
                <span>Your Journey</span>
                <span id="slideshow-counter" class="slideshow-counter">1/40</span>
            </div>
            <div class="slideshow-body">
                <img id="slideshow-img" class="slideshow-img" />
                <div class="slideshow-overlay">
                    <p id="slideshow-week" class="slideshow-week">Week 1</p>
                    <p id="slideshow-label" class="slideshow-label"></p>
                </div>
                <div class="slideshow-progress">
                    <div id="slideshow-progress-bar" class="slideshow-progress-bar"></div>
                </div>
            </div>
            <div class="slideshow-controls">
                <button id="btn-ss-prev" class="btn-ss">‚Äπ</button>
                <button id="btn-ss-play" class="btn-ss">‚è∏</button>
                <button id="btn-ss-next" class="btn-ss">‚Ä∫</button>
            </div>
        </div>

        <!-- Settings Screen -->
        <div id="screen-settings" class="screen">
            <div class="settings-header">
                <button id="btn-settings-back" class="btn-back">‚Äπ</button>
                <span>Settings</span>
                <span></span>
            </div>
            <div class="settings-body">
                <div class="setting-item">
                    <label>Current Week</label>
                    <p id="settings-week-value" class="setting-value">Week 1</p>
                    <p class="date-picker-hint">Change week from Home screen using the scroll wheel.</p>
                </div>
                <div class="setting-item">
                    <label>Due Date</label>
                    <p id="settings-due-date-text" class="setting-value">--</p>
                </div>
                <div class="setting-item">
                    <label>Mark as born</label>
                    <button id="btn-baby-born" class="btn-born">üéâ Baby Born!</button>
                </div>
                <div class="setting-item danger">
                    <button id="btn-reset" class="btn-danger">Reset All Data</button>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="/src/main.js"></script>
</body>
</html>
